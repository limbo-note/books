[TOC]

# 2. 操作系统性能监控

### 2.2 CPU使用率

分为：

- 用户态CPU使用率：应用程序代码的时间占总CPU时间的百分比
- 系统态CPU使用率：执行操作系统调用的时间占总CPU时间的百分比

提高性能的一个目标是尽可能降低系统态CPU使用率

#### Linux命令行监控CPU使用率

- vmstat。
  - 应有us+sy+id=100

- top

监控线程的CPU使用率需另查资料

### 2.3 CPU调度程序运行队列

如果运行队列的长度一直超过虚拟处理器个数的1倍，就需要关注；达到3~4倍时，需要立即处理（增加CPU，或者优化程序）

#### Linux命令行监控运行队列

- vmstat。
  - 第一列r就是运行队列的长度（线程数），不包括阻塞的线程，只计算Runnable的线程

### 2.4 内存使用率

